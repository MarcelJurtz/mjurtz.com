---
layout: post
title: ServiceStack Logging with Slack Integration
date: 2017-12-06 23:30:43.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- CSharp
tags:
- ".NET"
- CSharp
- Development
- Programming
- ServiceStack
meta:
  _edit_last: '2'
  _adinserter_block_exceptions: ''
  _yoast_wpseo_content_score: '30'
  _yoast_wpseo_primary_category: '42'
  _yoast_wpseo_focuskw_text_input: Slack
  _yoast_wpseo_focuskw: Slack
  _yoast_wpseo_metadesc: ServiceStack provides multiple logging mechanisms. In this
    article, I'll show you how you can send logged data directly to your Slack channel.
  _yoast_wpseo_linkdex: '81'
  _wpas_done_all: '1'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1513777758;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:544;}i:1;a:1:{s:2:"id";i:569;}i:2;a:1:{s:2:"id";i:589;}}}}
author:
  login: Marcel
  email: marcel@mjurtz.com
  display_name: Marcel Jurtz
  first_name: Marcel
  last_name: Jurtz
---
<p>Besides my series on how to get started with ServiceStack, I have already published a few articles that are related to the topic, but do not belong directly to the introductory series. In the <a href="https://blog.mjurtz.com/2017/12/query-coinmarketcap-api-using-servicestack/">last such article</a>, I used the example of <a href="https://coinmarketcap.com/">coinmarketcap.com</a> to show how to access third-party APIs using the C# client.</p>
<p>Today, I'll show you how to use ServiceStacks Logging API and link it to a slack channel. The prerequisites for this article are an existing Slack account and a simple ServiceStack service (<a href="https://blog.mjurtz.com/2017/11/servicestack-building-simple-service/">see my article on this topic</a>).</p>
<h2>Creating the Service</h2>
<p>To be able to integrate your service to Slack, you need to login to your Slack account and create a <a href="https://my.slack.com/services/new/incoming-webhook/">new Incoming Webhook</a>. A default channel now needs to be specified. However, this will be overwritten by us later, so at this point the selection does not play an important role. After creating the webhook, Slack will provide an url that will be added to our logger in the next step.</p>
<p>Slack logging requires the nuget package <em>ServiceStack.Logging.Slack. </em>Add this to your project in Visual Studio. As soon as the package is installed, the base of the project is done. Next, the service will be adapted. The following source code must be added to the <em>Configure()</em>-method of your AppHost class:</p>
<pre class="EnlighterJSRAW" data-enlighter-language="csharp">LogManager.LogFactory = new SlackLogFactory("webhook-url", debugEnabled: true)
{
    DefaultChannel = "logs",
    ErrorChannel = "errorlogs",
    BotUsername = "Sample ServiceStack Logger"
};</pre>
<p>Replace the first parameter with the URL of the previously created webhook and adjust the logger to cover your personal preferences. I use the channel "logs"as default for all messages, and "errorlogs" for all error messages. Similarly, a separate channel can be created for each logging type (debug, info, warning, error, fatal).</p>
<h2>Generating Logs</h2>
<p>And that's it! The logger can now be accessed from any part of the program. While each type of logging has its own method, in slack there is no automatic differentiation between them apart from the different channel distribution.</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null">public static ILog Log = LogManager.GetLogger(typeof(MyService));
Log.Info("Hello World!");
</pre>
