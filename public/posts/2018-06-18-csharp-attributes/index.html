<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.88.1" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>C# - Getting Started with Attributes &middot; Marcel Jurtz</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://www.mjurtz.com/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://www.mjurtz.com/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://www.mjurtz.com/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://www.mjurtz.com/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
</head>

  <body class=" ">
  <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="sidebar-about">
            <a href="https://www.mjurtz.com/">
                <h1>Marcel Jurtz</h1>
            </a>
            <p class="lead">
                 Notes and thoughts on software development 
            </p>
        </div>

        <nav>
            <ul class="sidebar-nav">
                <li><a href="https://www.mjurtz.com/">Home</a> </li>
                <li><a href="/about/"> About </a></li><li><a href="/imprint/"> Imprint / Impressum </a></li><li><a href="/privacy/"> Privacy / Datenschutz </a></li>
            </ul>
        </nav>

    </div>
</aside>
    <main class="content container">
    <div class="post">
  <h1>C# - Getting Started with Attributes</h1>
  <time datetime=2018-06-18T06:00:00Z class="post-date">Mon, Jun 18, 2018</time>
  <p>In todays post I want to show you how to use attributes in C#. I have to apologize in advance, though, as I&rsquo;m going to focus only to a limited extent on why they make sense and what you can use them for, that&rsquo;s a topic for one of the following articles. Nevertheless, I would like to give you a basic understanding so that you can incorporate this concept into your own applications.</p>
<p>So what are attributes? Well, attributes themselves are just classes. They can&rsquo;t do much themselves, but they can still be very helpful, especially on a topic called Reflection, which I will be discussing in the next days.</p>
<p>Attributes are usually utilised to assign metadata to classes, properties and the like. Attributes inherit from the class <em>Attributes</em>. According to the convention, their names are always appended with the extension <em>Attributes</em>. They can be placed on various elements, one speaks of <em>decorating</em> a class, for example. To restrict the use of a custom attribute, the attribute <em>AttributeUsage</em> can be used.</p>
<p>That was a whole bunch of attributes, right? Let us test this with an example, so that it will be easier to understand.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#a6e22e">[AttributeUsage(AttributeTargets.Class | AttributeTargets.Property)]</span>  
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DemoAttribute</span> : Attribute 
{ 
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Description { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; } 
} 
</code></pre></div><p>I created my own attribute, DemoAttribute. I have designed the name according to the convention. I want only properties and classes to be decorated with the attribute, which is why I piped these two options together using the AttributeUsage attribute.</p>
<p>The attribute has a property called Description. With this I want to describe my classes and properties later. Let us also look at an example.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#a6e22e">[Demo(Description = &#34;Test for class A&#34;)]</span> 
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ClassA</span> 
{ 
<span style="color:#a6e22e">  [Demo(Description = &#34;Test for Property ClassA.Name&#34;)]</span>
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Name { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; } 
}
<span style="color:#a6e22e">
</span><span style="color:#a6e22e">[Demo(Description = &#34;This is class B&#34;)]</span> 
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ClassB</span> 
{
} 

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ClassC</span> 
{ 
} 
</code></pre></div><p>I created three classes to test my attribute: ClassA, ClassB and ClassC. I know, very incredibly creative. I decorated classes A and B with my attribute, class C I deliberately ignored. In addition, class A has a property with the attribute.</p>
<p>Now I want to show you the real purpose of attributes, but for this I have to be a little ahead of schedule. If you are interested in the relevant topics, just search for the keyword <em>Reflection</em> (oh, and LINQ, if you are new to this).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> classes = <span style="color:#66d9ef">from</span> t <span style="color:#66d9ef">in</span> Assembly.GetExecutingAssembly().GetTypes() 
  <span style="color:#66d9ef">where</span> t.GetCustomAttributes&lt;DemoAttribute&gt;().Count() &gt; <span style="color:#ae81ff">0</span> 
  <span style="color:#66d9ef">select</span> t; 

<span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">var</span> c <span style="color:#66d9ef">in</span> classes) 
{ 
  Console.WriteLine(<span style="color:#e6db74">$&#34;Fount class: {c.Name}&#34;</span>); 
} 
</code></pre></div><p>In this snippet I first obtain all classes in the current assembly that are decorated with the attribute <em>DemoAttribute</em>. Then I iterate through the result set and simply output the names of the respective classes.</p>
<p>You can add the following to search the found classes for properties with the same attribute.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> props = <span style="color:#66d9ef">from</span> p <span style="color:#66d9ef">in</span> c.GetProperties() 
  <span style="color:#66d9ef">where</span> p.IsDefined(<span style="color:#66d9ef">typeof</span>(DemoAttribute), <span style="color:#66d9ef">false</span>) 
  <span style="color:#66d9ef">select</span> p; 

<span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">var</span> p <span style="color:#66d9ef">in</span> props) 
{ 
  Console.WriteLine(<span style="color:#e6db74">$&#34;Fount property: {p.Name}&#34;</span>);
} 
</code></pre></div><p>Of course, the concept can be extended as far as you like. For example, you can design method calls so that all elements within an assembly or across assemblies are called in this way, thus modularizing your application without creating references between projects. But more about this later. With this short introduction I have only shown the basic idea of attributes. As already mentioned, the use of attributes is a separate topic. Stay tuned!</p>

</div>


    </main>

    
      
    
  </body>
</html>
