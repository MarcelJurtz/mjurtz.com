<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.88.1" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Dialogs in Xamarin.Forms &middot; Marcel Jurtz</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://www.mjurtz.com/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://www.mjurtz.com/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://www.mjurtz.com/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://www.mjurtz.com/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
</head>

  <body class=" ">
  <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="sidebar-about">
            <a href="https://www.mjurtz.com/">
                <h1>Marcel Jurtz</h1>
            </a>
            <p class="lead">
                 Notes and thoughts on software development 
            </p>
        </div>

        <nav>
            <ul class="sidebar-nav">
                <li><a href="https://www.mjurtz.com/">Home</a> </li>
                <li><a href="/about/"> About </a></li><li><a href="/imprint/"> Imprint / Impressum </a></li><li><a href="/privacy/"> Privacy / Datenschutz </a></li>
            </ul>
        </nav>

    </div>
</aside>
    <main class="content container">
    <div class="post">
  <h1>Dialogs in Xamarin.Forms</h1>
  <time datetime=2018-09-09T06:00:00Z class="post-date">Sun, Sep 9, 2018</time>
  <p>If you already have a little experience in cross-platform development with Xamarin.Forms, 
you probably know the problem: Navigation between different pages works very well, 
but there is no easy solution to display dialog boxes overlaying an active page.</p>
<p>Today I want to show you how you can implement this feature in your Xamarin.Forms application. 
I have created an example project for this purpose, which you can download from my 
<a href="https://github.com/MarcelJurtz/XamarinDialogDemo">GitHub site</a>.</p>
<h2 id="setup">Setup</h2>
<p>I first create a new Cross-Platform project in Visual Studio. 
I start without a template (blank) and use .NET standard for the shared code base. 
After the project is initialized, I add the plugin for the dialogs to all projects. 
You can find it via <a href="https://www.nuget.org/packages/Rg.Plugins.Popup/">Nuget</a>. 
The project is also open source on <a href="https://github.com/rotorgames/Rg.Plugins.Popup">GitHub</a>. 
To add a Nuget package to your projects, mark the project (or solution) and select the entry 
<em>Manage NuGet Packages</em>. Select all projects of your solution to install the package.</p>
<p>The first thing to do is to initialize the package. This takes place in the platform-specific projects. 
For Android, open the MainActivity.cs file and add the following to your <em>OnCreate()</em> method:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">void</span> OnCreate(Bundle bundle)
{
    <span style="color:#66d9ef">base</span>.OnCreate(bundle);

    Rg.Plugins.Popup.Popup.Init(<span style="color:#66d9ef">this</span>, bundle);
        
    Xamarin.Forms.Forms.Init(<span style="color:#66d9ef">this</span>, bundle);
    LoadApplication (<span style="color:#66d9ef">new</span> App ());
}
</code></pre></div><p>The same goes for iOS: Add the following snippet to your <em>FinishedLaunching()</em>-Method inside the AppDelegate.cs file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">bool</span> FinishedLaunching(UIApplication app, NSDictionary options)
{
    Rg.Plugins.Popup.Popup.Init();
      
    <span style="color:#66d9ef">global</span>::Xamarin.Forms.Forms.Init ();
    LoadApplication (<span style="color:#66d9ef">new</span> App ());
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">base</span>.FinishedLaunching (app, options);
}
</code></pre></div><p>If you want to support UWP, the relevant code goes inside the App-class:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp">Rg.Plugins.Popup.Popup.Init();
Xamarin.Forms.Forms.Init (e);

<span style="color:#66d9ef">if</span> (e.PreviousExecutionState == ApplicationExecutionState.Terminated)
{
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}
</code></pre></div><p>More detailed information about initializing the plugin can be found in the 
<a href="https://github.com/rotorgames/Rg.Plugins.Popup/wiki/Getting-started">projects documentation</a>.</p>
<h2 id="integrating-dialogs">Integrating Dialogs</h2>
<p>Now add a new Content Page to the .NET standard project. This is generated with predefined code, which must be adjusted as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;pages.PopUpPage</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://xamarin.com/schemas/2014/forms&#34;</span> 
             <span style="color:#a6e22e">xmlns:x=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2009/xaml&#34;</span>
             <span style="color:#a6e22e">xmlns:pages=</span><span style="color:#e6db74">&#34;clr-namespace:Rg.Plugins.Popup.Pages;assembly=Rg.Plugins.Popup&#34;</span>
             <span style="color:#a6e22e">x:Class=</span><span style="color:#e6db74">&#34;PopupDemo.Dialog&#34;</span><span style="color:#f92672">&gt;</span>
    
<span style="color:#f92672">&lt;/pages.PopUpPage&gt;</span>
</code></pre></div><p>This is the foundation of the dialog. I just removed the sample content and added the namespace for the plugin. 
Finally I changed the root element of the page from ContentView to PopUpPage. 
These changes are also required in the code-behind file. 
All you have to do here is change the inheritance from ContentView to PopUpPage.</p>
<p>Next, I design the content of the dialog window. I want to show the user a simple login dialog, 
so I need input fields for username and password, as well as a button to confirm the input.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;pages:PopupPage</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://xamarin.com/schemas/2014/forms&#34;</span> 
             <span style="color:#a6e22e">xmlns:x=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2009/xaml&#34;</span>
             <span style="color:#a6e22e">xmlns:pages=</span><span style="color:#e6db74">&#34;clr-namespace:Rg.Plugins.Popup.Pages;assembly=Rg.Plugins.Popup&#34;</span>
             <span style="color:#a6e22e">xmlns:animations=</span><span style="color:#e6db74">&#34;clr-namespace:Rg.Plugins.Popup.Animations;assembly=Rg.Plugins.Popup&#34;</span>
             <span style="color:#a6e22e">x:Class=</span><span style="color:#e6db74">&#34;PopupDemo.Dialog&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;pages:PopupPage.Animation&gt;</span>
        <span style="color:#f92672">&lt;animations:ScaleAnimation</span> <span style="color:#a6e22e">DurationIn=</span><span style="color:#e6db74">&#34;200&#34;</span>
                                   <span style="color:#a6e22e">DurationOut=</span><span style="color:#e6db74">&#34;300&#34;</span>
                                   <span style="color:#a6e22e">EasingIn=</span><span style="color:#e6db74">&#34;SinIn&#34;</span>
                                   <span style="color:#a6e22e">EasingOut=</span><span style="color:#e6db74">&#34;SinInOut&#34;</span>
                                   <span style="color:#a6e22e">HasBackgroundAnimation=</span><span style="color:#e6db74">&#34;True&#34;</span>
                                   <span style="color:#a6e22e">PositionIn=</span><span style="color:#e6db74">&#34;Top&#34;</span>
                                   <span style="color:#a6e22e">PositionOut=</span><span style="color:#e6db74">&#34;Bottom&#34;</span>
                                   <span style="color:#a6e22e">ScaleIn=</span><span style="color:#e6db74">&#34;1.2&#34;</span>
                                   <span style="color:#a6e22e">ScaleOut=</span><span style="color:#e6db74">&#34;0.8&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/pages:PopupPage.Animation&gt;</span>
    
    <span style="color:#f92672">&lt;StackLayout</span>
        <span style="color:#a6e22e">Margin=</span><span style="color:#e6db74">&#34;12&#34;</span>
        <span style="color:#a6e22e">Padding=</span><span style="color:#e6db74">&#34;24&#34;</span>
        <span style="color:#a6e22e">Spacing=</span><span style="color:#e6db74">&#34;24&#34;</span>
        <span style="color:#a6e22e">BackgroundColor=</span><span style="color:#e6db74">&#34;White&#34;</span>
        <span style="color:#a6e22e">HorizontalOptions=</span><span style="color:#e6db74">&#34;Center&#34;</span>
        <span style="color:#a6e22e">VerticalOptions=</span><span style="color:#e6db74">&#34;Center&#34;</span><span style="color:#f92672">&gt;</span>

        <span style="color:#f92672">&lt;StackLayout&gt;</span>
            <span style="color:#f92672">&lt;Label</span>
                <span style="color:#a6e22e">Text=</span><span style="color:#e6db74">&#34;Username&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Entry</span>
                <span style="color:#a6e22e">FontSize=</span><span style="color:#e6db74">&#34;Large&#34;</span>
                <span style="color:#a6e22e">Text=</span><span style="color:#e6db74">&#34;me@example.com&#34;</span> <span style="color:#f92672">/&gt;</span>
        <span style="color:#f92672">&lt;/StackLayout&gt;</span>

        <span style="color:#f92672">&lt;StackLayout&gt;</span>
            <span style="color:#f92672">&lt;Label</span>
                <span style="color:#a6e22e">Text=</span><span style="color:#e6db74">&#34;Password&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Entry</span>
                <span style="color:#a6e22e">FontSize=</span><span style="color:#e6db74">&#34;Large&#34;</span>
                <span style="color:#a6e22e">IsPassword=</span><span style="color:#e6db74">&#34;True&#34;</span>
                <span style="color:#a6e22e">Text=</span><span style="color:#e6db74">&#34;1234&#34;</span> <span style="color:#f92672">/&gt;</span>
        <span style="color:#f92672">&lt;/StackLayout&gt;</span>

        <span style="color:#f92672">&lt;StackLayout&gt;</span>
            <span style="color:#f92672">&lt;Button</span>
                <span style="color:#a6e22e">Clicked=</span><span style="color:#e6db74">&#34;Button_Clicked&#34;</span>
                <span style="color:#a6e22e">BackgroundColor=</span><span style="color:#e6db74">&#34;Orange&#34;</span>
                <span style="color:#a6e22e">FontSize=</span><span style="color:#e6db74">&#34;Large&#34;</span>
                <span style="color:#a6e22e">Text=</span><span style="color:#e6db74">&#34;Submit&#34;</span>
                <span style="color:#a6e22e">TextColor=</span><span style="color:#e6db74">&#34;White&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#f92672">&lt;/StackLayout&gt;</span>
    <span style="color:#f92672">&lt;/StackLayout&gt;</span>
<span style="color:#f92672">&lt;/pages:PopupPage&gt;</span>
</code></pre></div><p>Now there is missing only one possibility to display the dialog. 
I added a simple button to my main page and linked it to an event handler that opens the dialog. 
In real applications, you would do this by adding bindings to the ViewModel, 
but I decided to use the quick and dirty variant to keep the example as simple as possible.</p>
<p>Calling the dialog probably reminds you syntactically of the normal navigation between the pages. 
Closing the dialog works analogously, I wired this part with the EventHandler in the code-behind file of the dialog.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#75715e">// Open Dialog
</span><span style="color:#75715e"></span>PopupNavigation.Instance.PushAsync(<span style="color:#66d9ef">new</span> Dialog());

<span style="color:#75715e">// Close Dialog
</span><span style="color:#75715e"></span>PopupNavigation.Instance.PopAsync();
</code></pre></div><h2 id="animations">Animations</h2>
<p>If you now start the application on a device or emulator of your choice, everything should already work. 
Besides the pure dialog functionality, the plugin offers the possibility to animate the dialogs. 
The animation is defined in the XAML code of the dialog. 
You can also find complete documentation for this on the 
<a href="https://github.com/rotorgames/Rg.Plugins.Popup/wiki/Animations">projects website</a>. 
Here it&rsquo;s a good idea to just play around with the available possibilities, but finally you&rsquo;ll find a small example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;pages:PopupPage</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://xamarin.com/schemas/2014/forms&#34;</span> 
             <span style="color:#a6e22e">xmlns:x=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2009/xaml&#34;</span>
             <span style="color:#a6e22e">xmlns:pages=</span><span style="color:#e6db74">&#34;clr-namespace:Rg.Plugins.Popup.Pages;assembly=Rg.Plugins.Popup&#34;</span>
             <span style="color:#a6e22e">xmlns:animations=</span><span style="color:#e6db74">&#34;clr-namespace:Rg.Plugins.Popup.Animations;assembly=Rg.Plugins.Popup&#34;</span>
             <span style="color:#a6e22e">x:Class=</span><span style="color:#e6db74">&#34;PopupDemo.Dialog&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;pages:PopupPage.Animation&gt;</span>
        <span style="color:#f92672">&lt;animations:ScaleAnimation</span> <span style="color:#a6e22e">DurationIn=</span><span style="color:#e6db74">&#34;200&#34;</span>
                                   <span style="color:#a6e22e">DurationOut=</span><span style="color:#e6db74">&#34;300&#34;</span>
                                   <span style="color:#a6e22e">EasingIn=</span><span style="color:#e6db74">&#34;SinIn&#34;</span>
                                   <span style="color:#a6e22e">EasingOut=</span><span style="color:#e6db74">&#34;SinInOut&#34;</span>
                                   <span style="color:#a6e22e">HasBackgroundAnimation=</span><span style="color:#e6db74">&#34;True&#34;</span>
                                   <span style="color:#a6e22e">PositionIn=</span><span style="color:#e6db74">&#34;Top&#34;</span>
                                   <span style="color:#a6e22e">PositionOut=</span><span style="color:#e6db74">&#34;Bottom&#34;</span>
                                   <span style="color:#a6e22e">ScaleIn=</span><span style="color:#e6db74">&#34;1.2&#34;</span>
                                   <span style="color:#a6e22e">ScaleOut=</span><span style="color:#e6db74">&#34;0.8&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/pages:PopupPage.Animation&gt;</span>
    
    <span style="color:#f92672">&lt;StackLayout</span>
	<span style="color:#960050;background-color:#1e0010">…</span>
</code></pre></div><iframe width="560" height="315" src="https://www.youtube.com/embed/xgXXz-FT2I4?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

</div>


    </main>

    
      
    
  </body>
</html>
